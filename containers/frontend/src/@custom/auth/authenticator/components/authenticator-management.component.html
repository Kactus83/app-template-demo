<div class="authenticator-management">
  <div class="header">
    <h2 class="title">Authenticator Settings</h2>
  </div>

  <div *ngIf="loading" class="loading">
    Loading authenticator status...
  </div>

  <div *ngIf="!loading && error" class="error">
    {{ error }}
  </div>

  <div *ngIf="!loading && !error">
    <!-- Tant que pas activé, on reste en setup -->
    <custom-authenticator-setup
      *ngIf="!hasAuthenticatorEnabled"
      (authenticatorActivated)="onAuthenticatorActivated($event)"
    ></custom-authenticator-setup>

    <!-- Une fois activé, on passe en control -->
    <custom-authenticator-control
      *ngIf="hasAuthenticatorEnabled"
      (authenticatorDeleted)="onAuthenticatorDeleted()"
    ></custom-authenticator-control>
  </div>

  <div class="footer">
    <a [routerLink]="['/sign-in']" class="back-link">Return to sign in</a>
  </div>
</div>
